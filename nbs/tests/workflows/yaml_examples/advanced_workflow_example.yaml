# Advanced workflow example showing multiple document sources and processing steps
nodes:
  # Load documents from State of Union folder
  sotu_loader:
    type: LoadFromFolder
    config:
      source_directory: "sample_data/sotu"
      verbose: true
  
  # Load the billionaires PDF document
  pdf_loader:
    type: LoadFromFolder
    config:
      source_directory: "sample_data/billionaires"
      pdf_markdown: true
      verbose: true
  
  # Chunk SOTU documents by paragraph (preserving structure)
  paragraph_chunker:
    type: SplitByParagraph
    config:
      chunk_size: 1000
      chunk_overlap: 100
  
  # Chunk PDF documents by character count (smaller chunks for dense content)
  character_chunker:
    type: SplitByCharacterCount
    config:
      chunk_size: 400
      chunk_overlap: 50
  
  # Store all processed documents in a shared search index
  unified_search_index:
    type: WhooshStore
    config:
      persist_location: "unified_search_index"

connections:
  # SOTU processing pipeline
  - from: sotu_loader
    from_port: documents
    to: paragraph_chunker
    to_port: documents
  
  - from: paragraph_chunker
    from_port: documents
    to: unified_search_index
    to_port: documents
  
  # PDF processing pipeline  
  - from: pdf_loader
    from_port: documents
    to: character_chunker
    to_port: documents
  
  - from: character_chunker
    from_port: documents
    to: unified_search_index
    to_port: documents